{{ define "card" }}
<div class="creature-card">
  <div class="card-header">
    <h2 class="creature-name">
      {{ .Creature.Name }} ({{ .Creature.Hitpoints }} HP)
    </h2>
    <a
      href="https://tibia.fandom.com/wiki/{{ .Creature.Name }}"
      target="_blank"
      rel="noopener noreferrer"
      class="wiki-link"
      >wiki</a
    >
  </div>

  <div class="damage-overview">
    <div class="primary-comparison">
      <div class="damage-highlight elemental-strongest">
        <div class="damage-type">Strongest<sup>(1)</sup> Elemental</div>
        <div class="damage-main">{{ .Summary.StrongestElementalDamage }} <span class="dmg-suffix">dmg</span></div>
        <div class="damage-subtitle">{{ .Summary.StrongestElementalPercentage }}% resistance</div>
      </div>
      <div class="damage-highlight elemental-neutral">
        <div class="damage-type">Neutral Elemental</div>
        <div class="damage-main">{{ .Summary.NeutralElementalDamage }} <span class="dmg-suffix">dmg</span></div>
        <div class="damage-subtitle">100% resistance</div>
      </div>
    </div>
  </div>

  <div class="charm-alternatives">
    <div class="charm-sections">
      <div class="charm-section overflux">
        <h4 class="charm-title">
          <span class="charm-icon">ðŸŸ£</span>
          Overflux
        </h4>
        <div class="breakeven-group">
          <div class="breakeven-title">Break-even Points</div>
          <div class="damage-item compact">
            <span class="comparison-target">vs Neutral:</span>
            <div class="damage-with-tooltip">
              <span class="damage-value">{{ .Summary.Overflux.BreakEvenNeutralResourceNeeded }} MP</span>
              <span class="tooltip-trigger" data-tooltip="LEVEL EK: {{ .Summary.Overflux.LevelBreakpoints.Knight.NeutralLevel }} | MS/ED: {{ .Summary.Overflux.LevelBreakpoints.Mage.NeutralLevel }} | RP: {{ .Summary.Overflux.LevelBreakpoints.Paladin.NeutralLevel }} | EM: {{ .Summary.Overflux.LevelBreakpoints.Monk.NeutralLevel }}">?</span>
            </div>
          </div>
          <div class="damage-item compact">
            <span class="comparison-target">vs Strongest:</span>
            <div class="damage-with-tooltip">
              <span class="damage-value">{{ .Summary.Overflux.BreakEvenStrongestResourceNeeded }} MP</span>
              <span class="tooltip-trigger" data-tooltip="LEVEL EK: {{ .Summary.Overflux.LevelBreakpoints.Knight.StrongestLevel }} | MS/ED: {{ .Summary.Overflux.LevelBreakpoints.Mage.StrongestLevel }} | RP: {{ .Summary.Overflux.LevelBreakpoints.Paladin.StrongestLevel }} | EM: {{ .Summary.Overflux.LevelBreakpoints.Monk.StrongestLevel }}">?</span>
            </div>
          </div>
          <div class="damage-item compact">
            <span class="comparison-target">Dmg cap<sup>(2)</sup> ({{ .Summary.Overflux.MaxDamage }}):</span>
            <div class="damage-with-tooltip">
              <span class="damage-value">{{ .Summary.Overflux.MaxDamageResourceNeeded }} MP</span>
              <span class="tooltip-trigger" data-tooltip="LEVEL EK: {{ .Summary.Overflux.LevelBreakpoints.Knight.MaxDamageLevel }} | MS/ED: {{ .Summary.Overflux.LevelBreakpoints.Mage.MaxDamageLevel }} | RP: {{ .Summary.Overflux.LevelBreakpoints.Paladin.MaxDamageLevel }} | EM: {{ .Summary.Overflux.LevelBreakpoints.Monk.MaxDamageLevel }}">?</span>
            </div>
          </div>
        </div>
      </div>

      <div class="charm-section overpower">
        <h4 class="charm-title">
          <span class="charm-icon">ðŸ”´</span>
          Overpower
        </h4>
        <div class="breakeven-group">
          <div class="breakeven-title">Break-even Points</div>
          <div class="damage-item compact">
            <span class="comparison-target">vs Neutral:</span>
            <div class="damage-with-tooltip">
              <span class="damage-value">{{ .Summary.Overpower.BreakEvenNeutralResourceNeeded }} HP</span>
              <span class="tooltip-trigger" data-tooltip="LEVEL EK: {{ .Summary.Overpower.LevelBreakpoints.Knight.NeutralLevel }} | MS/ED: {{ .Summary.Overpower.LevelBreakpoints.Mage.NeutralLevel }} | RP: {{ .Summary.Overpower.LevelBreakpoints.Paladin.NeutralLevel }} | EM: {{ .Summary.Overpower.LevelBreakpoints.Monk.NeutralLevel }}">?</span>
            </div>
          </div>
          <div class="damage-item compact">
            <span class="comparison-target">vs Strongest:</span>
            <div class="damage-with-tooltip">
              <span class="damage-value">{{ .Summary.Overpower.BreakEvenStrongestResourceNeeded }} HP</span>
              <span class="tooltip-trigger" data-tooltip="LEVEL EK: {{ .Summary.Overpower.LevelBreakpoints.Knight.StrongestLevel }} | MS/ED: {{ .Summary.Overpower.LevelBreakpoints.Mage.StrongestLevel }} | RP: {{ .Summary.Overpower.LevelBreakpoints.Paladin.StrongestLevel }} | EM: {{ .Summary.Overpower.LevelBreakpoints.Monk.StrongestLevel }}">?</span>
            </div>
          </div>
          <div class="damage-item compact">
            <span class="comparison-target">Dmg cap<sup>(2)</sup> ({{ .Summary.Overpower.MaxDamage }}):</span>
            <div class="damage-with-tooltip">
              <span class="damage-value">{{ .Summary.Overpower.MaxDamageResourceNeeded }} HP</span>
              <span class="tooltip-trigger" data-tooltip="LEVEL EK: {{ .Summary.Overpower.LevelBreakpoints.Knight.MaxDamageLevel }} | MS/ED: {{ .Summary.Overpower.LevelBreakpoints.Mage.MaxDamageLevel }} | RP: {{ .Summary.Overpower.LevelBreakpoints.Paladin.MaxDamageLevel }} | EM: {{ .Summary.Overpower.LevelBreakpoints.Monk.MaxDamageLevel }}">?</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{{ end }}
